<template name="userUpsertPage">
  <div id="userUpsertPage" class="page">
    <header class="pageHeader">
      <i class="indexButton fa fa-chevron-left"></i>
      <h4 class="userId barcode">{{_id}}</h4>
      <button id="userImageGridButton">
        <i class="imageGridButton fa fa-th"></i>
      </button>
      <button id="userListButton">
        <i class="listButton fa fa-list"></i>
      </button>
      <button id="userTableButton">
        <i class="tableButton fa fa-table"></i>
      </button>

      {{#if _id}}
        <i class="lockButton fa {{getLockIcon}}"></i>
      {{/if}}
    </header>

    <div id="userUpsertCard" class="card-contents">


      {{#autoForm collection="Meteor.users" id="upsertUserForm" type="normal" schema="userSchema" doc=this}}
        <div id="userMetaData">
          <div id="userMetaInputs">
            <!-- <input id="usernameInput" class="glass form-control" type="text" placeholder="username" value="{{username}}" {{isReadOnly}}><br>
            <input id="userFullNameInput"  class="glass form-control" type="url" placeholder="Jane Doe" value="{{profile.fullName}}" {{isReadOnly}}>
            <input id="userEmailInput"  class="glass form-control" type="url" placeholder="username@somewhere.com" value="{{getEmailAddress}}" {{isReadOnly}}>
            <input id="userAvatarInput"  class="glass form-control" type="url" placeholder="http://www.widget.com/cog.jpg" value="{{profile.avatar}}" {{isReadOnly}}> -->

            {{> afQuickField id="usernameInput" name='username' class="glass form-control" placeholder="schemaLabel" label=false}}
            {{> afQuickField id="userEmailInput" name='emails.1.address' value=getEmailAddress class="glass form-control" type="url" placeholder="schemaLabel" label=false}}
            {{> afQuickField id="userFullNameInput" name='profile.fullName' class="glass form-control" type="url" placeholder="schemaLabel" label=false}}
            {{> afQuickField id="userAvatarInput" name='profile.avatar' class="glass form-control" type="url" placeholder="schemaLabel" label=false}}

          </div>
          <img id="userImage" src="{{profile.avatar}}" />
        </div>
        {{> afQuickField id="userDescriptionInput" name='profile.description' placeholder="schemaLabel" label=false rows=6}}
        <!-- <textarea id="userDescriptionInput"  class="glass form-control" rows="10" placeholder="Lorem ipsum dolar set et..." {{isReadOnly}}>{{profile.description}}</textarea><br> -->


      {{/autoForm}}

      <!-- {{> quickForm
        collection="Meteor.users"
        id="upsertUserForm"
        type="insert"
        buttonClasses=""
        buttonContent="Save"
        schema="userSchema"
        template=plain
        placeholder="schemaLabel"
      }} -->





    </div>

    <footer class="pageFooter">
      <button id="saveUserButton">
        <i class="fa fa-dot-circle-o"></i>
        <i class="fa fa-dot-circle-o"></i>
        <i class="fa fa-dot-circle-o"></i>
      </button>
      {{#if _id}}
        <button id="removeUserButton">
          <i class="fa fa-times"></i>
          <i class="fa fa-times"></i>
          <i class="fa fa-times"></i>
        </button>
      {{/if}}
    </footer>
  </div>
</template>
