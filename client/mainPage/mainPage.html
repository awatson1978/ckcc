<template name="mainPage">
  <div id="mainPage" class="padded page" style="{{getOpacity}}">


    <hr>
    <h2 class="fullwidth centered">PathologyReport</h2>
    <p>
      PathologyReport is a sandboxed reference application that demonstrates a complete clinical form that could be used in clinical trials, using <a href="http://www.meteor.com">Meteor</a>, <a href="https://active-record-demo.meteor.com">ActiveRecord</a>, and aiming for a <a href="https://www.youtube.com/watch?v=jzLYh3j6xn8">Day Made of Glass</a> user interface.  Part of the Glass UI and <a href="http://clinical-trials.meteor.com/">Clinical Trials/Medbook</a> subproject of the <a href="http://clinincal.meteor.com">Clinical Meteor Track</a>.
    </p>
    <button id="listButton" class="fullwidth btn-main" style="{{btnPrimary}}">See the Demo</button>
    <br><br>

    <hr>
    <h4 class="fullwidth centered">Wireframes</h4>
    <p>
      The PathologyReport reference application is being designed with a table/list index, and an integrated upsert page using AutoForm.  This is a "two page" CRUDL pattern, rather than a traditional "4 page" pattern (which would keep new, edit, and view pages on separate routes and with separate components).
    </p>

    <img src="ActiveRecord - DoublePage.png" class="fullwidth" alt="" />


    <hr>
    <h4 class="fullwidth centered">PathologyReport Schema</h4>
    <p>
      We use the following schema in this reference implementation:
    </p>
    {{#prism language="javascript"}}
      PathologyReports = new Meteor.Collection('posts');

      PathologyReportsSchema = new SimpleSchema({
        'title': {
          type: String,
          optional: true
        },
        'description': {
          type: String,
          optional: true
        },
        'url': {
          type: String,
          optional: true
        },
        'imageUrl': {
          type: String,
          optional: true
        },
        "AR_chromosomeX_ratio": {
          type: Number,
          decimal: true,
          optional: true
        },
        "AR-FISH_IHC": {
          "allowedValues": [
              "Positive",
              "Focal Positive",
              "Negative",
              "Weak",
              "Failed",
              "Not Performed"
            ],
          "label": "AR Immunohistochemistry",
          "max": 200,
          type: String,
          optional: true
        },
        "AR-FISH_test_performed": {
          "allowedValues": [
              "Performed",
              "Not Performed"
            ],
          "label": "AR-FISH test performed",
          "max": 200,
          type: String,
          optional: true
        },
        "PSA_IHC": {
          "allowedValues": [
              "Positive",
              "Focal Positive",
              "Negative",
              "Weak",
              "Failed",
              "Not Performed"
            ],
          "label": "PSA Immunohistochemistry",
          "max": 200,
          type: String,
          optional: true
        },
        "CHGA_IHC": {
          "allowedValues": [
              "Positive",
              "Focal Positive",
              "Negative",
              "Weak",
              "Failed",
              "Not Performed"
            ],
          "label": "CHGA Immunohistochemistry",
          "max": 200,
          type: String,
          optional: true
        },
        "CHGA_test_performed": {
          "allowedValues": [
              "Performed",
              "Not Performed"
            ],
          "label": "CHGA test performed",
          "max": 200,
          type: String,
          optional: true
        },
        "ION_Torrent_test_performed": {
          "allowedValues": [
              "Yes",
              "No"
            ],
          "label": "ION Torrent test performed",
          "max": 200,
          type: String,
          optional: true
        },
        "PTEN_IHC": {
          "allowedValues": [
              "Positive",
              "Negative",
              "Weak",
              "N/A"
            ],
          "label": "PTEN Immunohistochemistry",
          "max": 200,
          type: String,
          optional: true
        },
        "PTEN_test_performed": {
          "allowedValues": [
              "Performed",
              "Not Performed"
            ],
          "label": "PTEN test performed",
          "max": 200,
          type: String,
          optional: true
        },
        "Tumor_Content": {
          "label": "Tumor Content",
          type: String,
          "allowedValues": [
              "None",
              "0%",
              "5%",
              "10%",
              "20%",
              "30%",
              "40%",
              "50%",
              "60%",
              "70%",
              "80%",
              "90%",
              "100%"
            ]
        },
        "Preliminary_Histology": {
          "allowedValues": [
              "Adenocarcinoma",
              "Possible SC",
              "Small Cell",
              "ANPC",
              "Mixed",
              "N/A"
            ],
          "label": "Preliminary Histology",
          "max": 200,
          type: String
        },
        "Final_Histology": {
          "allowedValues": [
              "Adenocarcinoma",
              "Small Cell",
              "ANPC",
              "Indeterminate",
              "Atypical with Adeno Architecture",
              "Adeno+ANPC",
              "Adeno+SC",
              "ANPC+SC",
              "N/A"
            ],
          "label": "Final Histology Call",
          "max": 200,
          type: String,
          optional: true
        }
      });
      PathologyReports.attachSchema(PathologyReportsSchema);
    {{/prism}}





    <hr>
    <h4 class="fullwidth centered">Contributing/Developing</h4>
    <p>
      Download the reference app, fork the repository, and tinker with the underlying packages.
    </p>
    {{#prism language="bash"}}
      git clone http://github.com/awatson1978/pathology-report
      cd pathology-report
      meteor
    {{/prism}}

    <hr>
    <h4>Design Inspiration</h4>
    <p>
      The general design aesthetic of the Glass UI and this ActiveRecord pattern is inspired by the Corning Day Made of Glass video.  We're not implementing the UI exactly as shown in the video; but we find it a useful tool in create a shared vision regarding Card UI and establishing a design language around haptic interfaces, complex animations, near-field communications between devices, and other advanced design concepts.
    </p>
    <iframe width="100%" height="315" src="//www.youtube.com/embed/jZkHpNnXLB0" frameborder="0" allowfullscreen></iframe>


    <hr>
    <h4>Get The Code</h4>
    <p>
      <a href="http://github.com/awatson1978/pathology-report">Pathology Report</a>
    </p>


    <hr>
    <h4>Licensing</h4>
    <p>
      Code is MIT.  Use as you will.
    </p>
    <p>
      Corning Day Made of Glass video is copyright Corning; all rights reserved.
    </p>


  </div>
</template>
