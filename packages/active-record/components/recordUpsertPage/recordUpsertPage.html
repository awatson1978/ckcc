<template name="recordUpsertPage">
  <div id="recordUpsertPage" class="page">

    {{> recordHeader type="record"}}

    <div id="recordUpsertCard" class="horizontally-padded card-contents" style="{{getOpacity}}">
      {{#autoForm
        id="newFooForm"
        collection="Foo"
        type="insert"
        schema=FooSchema
        buttonContent="Save"
        buttonClass="glass-footer-btn"
        doc=this
      }}

        {{#each afFieldNames}}
          {{> afQuickField name=this.name options=afOptionsFromSchema autocomplete="off"}}
        {{/each}}

      <button id="saveRecordButton" type="submit" class="glass-footer-btn">Save Foo</button>
      {{#if this}}
        <button id="removeRecordButton" data-_id={{doc._id}} data-name={{doc.name}} type="button" class="right removeRecord btn btn-danger">Delete</button>
      {{/if}}

      {{/autoForm}}
    </div>

    {{> recordFooter }}
  </div>
</template>
