
<template name="appLayout">

    {{> errorPanel }}

    <!-- {{> yield 'header'}} -->
    <header id="navbarHeader" class="helveticas" style="{{getOpacity}} {{isVisible}} {{getNavWidth}}">
      <div class="westLinks">
        <a id="navbarTitle" class="navbarTitle">{{getTitleText}}</a>
        {{#if breadcrumbsExist}}
          <a id="breadcrumb" class="breadcrumb navbarLink" style="{{isVisible}}"> {{getPageTitle}}</a>
        {{/if}}
      </div>

      <div class="eastLinks">
        {{#if hasEntryControls}}
          <a id="usernameLink" href="{{getUsernameLink}}" class="eastAligned navbarLink" style="{{isVisible}}">{{ fullName }}</a>
          {{#if isLoggedIn }}
            <a id="logoutLink" class="eastAligned navbarLink" style="{{isVisible}}">Logout</a>
          {{/if}}
        {{/if}}
      </div>
    </header>

    <aside id="searchBar" class="searchBar" style="{{getOpacity}} {{getSearchStyle}}">
      <input id="globalSearchBar" type="text" name="globalSearchBar" value="" placeholder="search...">
    </aside>

      {{> yield 'leftDock' }}
      {{> yield 'westPanel' }}

      <div id="contextTitle" class="helveticas">{{getContextTitle}}</div>
      <div class="hidden">{{resized}}</div>

      <!-- {{> yield 'sidebar'}} -->

      <div id="mainPanel" class="helveticas layoutPanel" style="{{getLeftPanelStyle}} {{getNorthRule}}">
        {{> yield }}
      </div>
      <div id="secondPanel" class="helveticas layoutPanel" style="{{getRightPanelStyle}} {{getRightPanelNorthRule}}">
        {{> yield 'secondPage'}}
      </div>

      {{> yield 'rightDock' }}
      {{> yield 'eastPanel' }}


    <!-- {{> yield 'footer'}} -->
    <footer id="navbarFooter" style="{{getOpacity}} {{getFooterHeight}} {{getNavWidth}}">
      {{> yield 'footerActionElements' }}
      <div class="eastLinks">
        {{#if showHelp}}
        <button id="keybindingsBtn">Help</button>
        {{/if}}
      </div>
    </footer>

  {{> reactiveOverlaysTemplate }}

  <!-- ISSUE #1 - Find a better way to attach modal dialogs that isn't app specific. -->
  {{> yield 'keybindingsModal' }}
  {{> yield 'userPicklistModal' }}
  {{> yield 'studyPicklistModal' }}
  {{> yield 'collaborationPicklistModal' }}
  {{> yield 'studiesPicklistModal' }}
  {{> yield 'metadataPicklistModal' }}
</template>


<template name="secondPage">
  <div id="secondPage" class="secondPage">

  </div>
</template>
